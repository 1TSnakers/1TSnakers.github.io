<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Joke Widget</title>
  <style>
    body { margin: 0; }
    #joke { font-size: 0.8rem; color: gray; font-family: sans-serif; }
  </style>
</head>
<body>
  <div id="joke">Loading joke...</div>
  <script>
    let lastJoke = "";

    async function updateJoke() {
      const res = await fetch("https://1tsnakers.github.io/jokes.json");
      const jokes = await res.json();

      let joke = jokes[Math.floor(Math.random() * jokes.length)];
      while (joke === lastJoke && jokes.length > 1) {
        joke = jokes[Math.floor(Math.random() * jokes.length)];
      }
      lastJoke = joke;
      document.getElementById("joke").textContent = joke;
    }

    updateJoke();            // initial joke
    setInterval(updateJoke, 10000); // rotate every 10 seconds
  </script>
</body>
</html>