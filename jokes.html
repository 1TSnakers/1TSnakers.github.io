<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Joke Widget</title>
  <style>
    body { margin: 0; }
    #joke { font-size: 0.8rem; color: gray; font-family: sans-serif; }
  </style>
</head>
<body>
  <div id="joke">Loading joke...</div>
  <script type="module">
    import { jokes } from "./jokes.js";
    let lastJoke = "";

    function updateJoke() {
      let joke = jokes[Math.floor(Math.random() * jokes.length)];
      while (joke === lastJoke && jokes.length > 1) {
        joke = jokes[Math.floor(Math.random() * jokes.length)];
      }

      lastJoke = joke;
      document.getElementById("joke").textContent = joke;
    }

    updateJoke();
    setInterval(updateJoke, 10000);
  </script>
</body>
</html>